---

title: Torch Ember

keywords: fastai
sidebar: home_sidebar

summary: "Tracking and visualize after the burning pytorch"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="This-framework-tracks-the-pytorch-model:">This framework tracks the pytorch model:<a class="anchor-link" href="#This-framework-tracks-the-pytorch-model:">&#182;</a></h2><ul>
<li>On <code>nn.Module</code> level</li>
<li>Down to the metrics/ features of all tensors, includes<ul>
<li>inputs/outputs of each module</li>
<li>weight/grad tensors</li>
</ul>
</li>
<li>By <strong>minimal</strong> extra coding</li>
<li>Besides WebUI, Visualization compatible with <strong>notebook</strong> environment</li>
</ul>
<h2 id="Other-lovely-features">Other lovely features<a class="anchor-link" href="#Other-lovely-features">&#182;</a></h2><ul>
<li>Customizable metrics, with easy decorator syntax</li>
<li>Split the tracking log in the way you like, just <code>mark(k=v,k1=v2...)</code></li>
<li>You can easily switch on/off the tracking:<ul>
<li>Even cost of computation is tiny, torchember don't have to calculate metric for every iteration</li>
<li>Hence, you can track eg. only the last steps, only each 200 steps .etc</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Installation">Installation<a class="anchor-link" href="#Installation">&#182;</a></h2><p><code>pip install torchember</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Fast-Tutorial">Fast Tutorial<a class="anchor-link" href="#Fast-Tutorial">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Instant colab tutorial here: <a href="https://colab.research.google.com/github/raynardj/torchember/blob/master/nb_test/torchember_instant_tutorial.ipynb" target="_parent"><img src="https://camo.githubusercontent.com/52feade06f2fecbf006889a904d221e6a730c194/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Example In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg"></a></li>
</ul>
<p><img src="/torchember/002.png" alt=""></p>
<ul>
<li>Full <a href="https://raynardj.github.io/torchember/">documentations</a></li>
</ul>
<h3 id="WebUI-intro-Video">WebUI intro Video<a class="anchor-link" href="#WebUI-intro-Video">&#182;</a></h3><ul>
<li><a href="https://www.youtube.com/watch?v=2NbXDqcZKPY">video here</a></li>
</ul>
<p><img src="/torchember/001.png" alt="WebUI intro pic"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step1,-Track-your-model">Step1, Track your model<a class="anchor-link" href="#Step1,-Track-your-model">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Place you torch ember tracker on your model</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torchember.core</span> <span class="kn">import</span> <span class="n">torchEmber</span>
<span class="n">te</span> <span class="o">=</span> <span class="n">torchEmber</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The above can track input and output of every module,The following can track status of every module</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">loss</span><span class="o">.</span><span class="n">backward</span><span class="p">()</span>
    <span class="n">optimizer</span><span class="o">.</span><span class="n">step</span><span class="p">()</span>

    <span class="n">te</span><span class="o">.</span><span class="n">log_model</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Train your model as usual</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step2-Plan-A,-visualize-in-notebook">Step2 Plan A, visualize in notebook<a class="anchor-link" href="#Step2-Plan-A,-visualize-in-notebook">&#182;</a></h3><p>For colab, kaggle kernels, there isn't an option to run another service, you can visualize the result in notebook.</p>
<p>Of course the following is feasible in usual jupyter notebook.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torchember.visual</span> <span class="kn">import</span> <span class="n">VisualByTensor</span>

<span class="n">vis</span> <span class="o">=</span> <span class="n">VisualByTensor</span><span class="p">()</span>
</pre></div>
<ul>
<li>This extra line of code is for colab<div class="highlight"><pre><span></span><span class="n">vis</span><span class="o">.</span><span class="n">scatter_plot</span><span class="p">(</span><span class="n">vis</span><span class="o">.</span><span class="n">ember_sub_df</span><span class="p">)</span>
</pre></div>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Step2-Plan-B,-Check-the-analysis-on-the-WebUI">Step2 Plan B, Check the analysis on the WebUI<a class="anchor-link" href="#Step2-Plan-B,-Check-the-analysis-on-the-WebUI">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run the service from terminal</p>
<div class="highlight"><pre><span></span>$ torchember
</pre></div>
<p>The default port will be 8080</p>
<p>Or assign a port</p>
<div class="highlight"><pre><span></span>$ torchember --port<span class="o">=</span><span class="m">4200</span>
</pre></div>
<p>Visit your analysis at <code>http://[host]:[port]</code></p>

</div>
</div>
</div>
    {% endraw %}
</div>
 

